import * as React from 'react';
import { useEffect } from 'react';

export const Home: React.FC = () => {
  const typewriterText = ['developer', 'creator', 'artist', 'visualizer'];
  // keeps calling itself until the text is finished
  function typeWriter(text, i, fnCallback) {
    // if text isn't finished yet
    if (i < text.length) {
      // add next character to h1
     document.querySelector(".typewriter").innerHTML = text.substring(0, i+1) +'<span aria-hidden="true"></span>';

      // wait and call this function again for next character
      setTimeout(function() {
        typeWriter(text, i + 1, fnCallback)
      }, 100);
    }
    // text finished, call callback if there is a callback function
    else if (typeof fnCallback == 'function') {
      // call callback after timeout
      setTimeout(fnCallback, 700);
    }
  }

  // start a typewriter animation for a text in the dataText array
   function StartTextAnimation(i) {
     // check if typewriterText[i] exists
     if (typeof typewriterText[i] === 'undefined'){
        setTimeout(function() {
          StartTextAnimation(0);
        }, 2000);
     } else {
       typeWriter(typewriterText[i], 0, function(){
         // after callback (and whole text has been animated), start next text
         StartTextAnimation(i + 1);
       });

     }
  }

  // Start the text animation
  useEffect(() => {
    setTimeout(function() {
      StartTextAnimation(0);
    }, 2800)
  });
  
  return (
    <div 
      id='home' 
      className='container homeSection'
    >
      <div className="whiteSpace">
        <h1 id='homeNavbarFocus'>{'<h1>JESSE SMITH</h1>'}</h1>
          <h2 className='typewriter'>&nbsp;</h2>
      </div>
      <div className='waveContainer'>
        <svg id="wave" style={{transform: 'rotate(0deg)', transition: '0.3s'}} viewBox="0 0 1440 390" version="1.1" xmlns="http://www.w3.org/2000/svg">
          <path className='wave greenWave' xmlns="http://www.w3.org/2000/svg" style={{transform:'translate(0, 0px)', opacity:'1'}} fill='#eaf7cf' d="M0,273L16,227.5C32,182,64,91,96,84.5C128,78,160,156,192,195C224,234,256,234,288,253.5C320,273,352,312,384,305.5C416,299,448,247,480,221C512,195,544,195,576,214.5C608,234,640,273,672,286C704,299,736,286,768,273C800,260,832,247,864,227.5C896,208,928,182,960,169C992,156,1024,156,1056,175.5C1088,195,1120,234,1152,234C1184,234,1216,195,1248,188.5C1280,182,1312,208,1344,227.5C1376,247,1408,260,1440,234C1472,208,1504,143,1536,117C1568,91,1600,104,1632,143C1664,182,1696,247,1728,260C1760,273,1792,234,1824,214.5C1856,195,1888,195,1920,188.5C1952,182,1984,169,2016,149.5C2048,130,2080,104,2112,104C2144,104,2176,130,2208,117C2240,104,2272,52,2288,26L2304,0L2304,390L2288,390C2272,390,2240,390,2208,390C2176,390,2144,390,2112,390C2080,390,2048,390,2016,390C1984,390,1952,390,1920,390C1888,390,1856,390,1824,390C1792,390,1760,390,1728,390C1696,390,1664,390,1632,390C1600,390,1568,390,1536,390C1504,390,1472,390,1440,390C1408,390,1376,390,1344,390C1312,390,1280,390,1248,390C1216,390,1184,390,1152,390C1120,390,1088,390,1056,390C1024,390,992,390,960,390C928,390,896,390,864,390C832,390,800,390,768,390C736,390,704,390,672,390C640,390,608,390,576,390C544,390,512,390,480,390C448,390,416,390,384,390C352,390,320,390,288,390C256,390,224,390,192,390C160,390,128,390,96,390C64,390,32,390,16,390L0,390Z"/>
          <path className='wave pinkWave' xmlns="http://www.w3.org/2000/svg" style={{transform:'translate(0, 70px)', opacity:'0.9'}} fill='#fcbfb7' d="M0,312L16,305.5C32,299,64,286,96,260C128,234,160,195,192,188.5C224,182,256,208,288,234C320,260,352,286,384,260C416,234,448,156,480,136.5C512,117,544,156,576,143C608,130,640,65,672,32.5C704,0,736,0,768,58.5C800,117,832,234,864,266.5C896,299,928,247,960,234C992,221,1024,247,1056,253.5C1088,260,1120,247,1152,201.5C1184,156,1216,78,1248,58.5C1280,39,1312,78,1344,110.5C1376,143,1408,169,1440,156C1472,143,1504,91,1536,117C1568,143,1600,247,1632,279.5C1664,312,1696,273,1728,227.5C1760,182,1792,130,1824,91C1856,52,1888,26,1920,19.5C1952,13,1984,26,2016,45.5C2048,65,2080,91,2112,110.5C2144,130,2176,143,2208,130C2240,117,2272,78,2288,58.5L2304,39L2304,390L2288,390C2272,390,2240,390,2208,390C2176,390,2144,390,2112,390C2080,390,2048,390,2016,390C1984,390,1952,390,1920,390C1888,390,1856,390,1824,390C1792,390,1760,390,1728,390C1696,390,1664,390,1632,390C1600,390,1568,390,1536,390C1504,390,1472,390,1440,390C1408,390,1376,390,1344,390C1312,390,1280,390,1248,390C1216,390,1184,390,1152,390C1120,390,1088,390,1056,390C1024,390,992,390,960,390C928,390,896,390,864,390C832,390,800,390,768,390C736,390,704,390,672,390C640,390,608,390,576,390C544,390,512,390,480,390C448,390,416,390,384,390C352,390,320,390,288,390C256,390,224,390,192,390C160,390,128,390,96,390C64,390,32,390,16,390L0,390Z"/>
          <path className='wave yellowWave' xmlns="http://www.w3.org/2000/svg" style={{transform:'translate(0, 20px)', opacity:'0.8'}} fill="#ffbc0a" d="M0,117L16,156C32,195,64,273,96,299C128,325,160,299,192,260C224,221,256,169,288,130C320,91,352,65,384,65C416,65,448,91,480,117C512,143,544,169,576,201.5C608,234,640,273,672,286C704,299,736,286,768,240.5C800,195,832,117,864,110.5C896,104,928,169,960,201.5C992,234,1024,234,1056,208C1088,182,1120,130,1152,97.5C1184,65,1216,52,1248,97.5C1280,143,1312,247,1344,286C1376,325,1408,299,1440,260C1472,221,1504,169,1536,175.5C1568,182,1600,247,1632,279.5C1664,312,1696,312,1728,260C1760,208,1792,104,1824,65C1856,26,1888,52,1920,110.5C1952,169,1984,260,2016,279.5C2048,299,2080,247,2112,201.5C2144,156,2176,117,2208,97.5C2240,78,2272,78,2288,78L2304,78L2304,390L2288,390C2272,390,2240,390,2208,390C2176,390,2144,390,2112,390C2080,390,2048,390,2016,390C1984,390,1952,390,1920,390C1888,390,1856,390,1824,390C1792,390,1760,390,1728,390C1696,390,1664,390,1632,390C1600,390,1568,390,1536,390C1504,390,1472,390,1440,390C1408,390,1376,390,1344,390C1312,390,1280,390,1248,390C1216,390,1184,390,1152,390C1120,390,1088,390,1056,390C1024,390,992,390,960,390C928,390,896,390,864,390C832,390,800,390,768,390C736,390,704,390,672,390C640,390,608,390,576,390C544,390,512,390,480,390C448,390,416,390,384,390C352,390,320,390,288,390C256,390,224,390,192,390C160,390,128,390,96,390C64,390,32,390,16,390L0,390Z"/>
          <path className='wave blueWave' xmlns="http://www.w3.org/2000/svg" style={{transform:'translate(0, 150px)',opacity:'0.7'}} fill="#3f88c5" d="M0,78L16,110.5C32,143,64,208,96,201.5C128,195,160,117,192,130C224,143,256,247,288,247C320,247,352,143,384,130C416,117,448,195,480,240.5C512,286,544,299,576,312C608,325,640,338,672,344.5C704,351,736,351,768,312C800,273,832,195,864,188.5C896,182,928,247,960,286C992,325,1024,338,1056,286C1088,234,1120,117,1152,58.5C1184,0,1216,0,1248,19.5C1280,39,1312,78,1344,123.5C1376,169,1408,221,1440,234C1472,247,1504,221,1536,201.5C1568,182,1600,169,1632,195C1664,221,1696,286,1728,312C1760,338,1792,325,1824,292.5C1856,260,1888,208,1920,195C1952,182,1984,208,2016,201.5C2048,195,2080,156,2112,143C2144,130,2176,143,2208,182C2240,221,2272,286,2288,318.5L2304,351L2304,390L2288,390C2272,390,2240,390,2208,390C2176,390,2144,390,2112,390C2080,390,2048,390,2016,390C1984,390,1952,390,1920,390C1888,390,1856,390,1824,390C1792,390,1760,390,1728,390C1696,390,1664,390,1632,390C1600,390,1568,390,1536,390C1504,390,1472,390,1440,390C1408,390,1376,390,1344,390C1312,390,1280,390,1248,390C1216,390,1184,390,1152,390C1120,390,1088,390,1056,390C1024,390,992,390,960,390C928,390,896,390,864,390C832,390,800,390,768,390C736,390,704,390,672,390C640,390,608,390,576,390C544,390,512,390,480,390C448,390,416,390,384,390C352,390,320,390,288,390C256,390,224,390,192,390C160,390,128,390,96,390C64,390,32,390,16,390L0,390Z"/>
        </svg>
      </div>
    </div>
  )
}